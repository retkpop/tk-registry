{"remainingRequest":"/Volumes/TamKieu/java/tk-registry/node_modules/thread-loader/dist/cjs.js??ref--9-2!/Volumes/TamKieu/java/tk-registry/node_modules/ts-loader/index.js??ref--9-3!/Volumes/TamKieu/java/tk-registry/node_modules/angular-router-loader/src/index.js!/Volumes/TamKieu/java/tk-registry/node_modules/tslint-loader/index.js!/Volumes/TamKieu/java/tk-registry/src/main/webapp/app/core/login/login.component.ts","dependencies":[{"path":"/Volumes/TamKieu/java/tk-registry/src/main/webapp/app/core/login/login.component.ts","mtime":1564500078606},{"path":"/Volumes/TamKieu/java/tk-registry/node_modules/angular2-template-loader/index.js","mtime":1486570058000},{"path":"/Volumes/TamKieu/java/tk-registry/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/TamKieu/java/tk-registry/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/TamKieu/java/tk-registry/node_modules/ts-loader/index.js","mtime":1545640398000},{"path":"/Volumes/TamKieu/java/tk-registry/node_modules/angular-router-loader/src/index.js","mtime":1512749902000},{"path":"/Volumes/TamKieu/java/tk-registry/node_modules/tslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nvar _a, _b, _c, _d, _e, _f, _g;\nconst core_1 = require(\"@angular/core\");\nconst ng_bootstrap_1 = require(\"@ng-bootstrap/ng-bootstrap\");\nconst router_1 = require(\"@angular/router\");\nconst ng_jhipster_1 = require(\"ng-jhipster\");\nconst core_2 = require(\"app/core\");\nconst state_storage_service_1 = require(\"app/core/auth/state-storage.service\");\nlet JhiLoginModalComponent = class JhiLoginModalComponent {\n    constructor(eventManager, loginService, stateStorageService, elementRef, renderer, router, activeModal) {\n        this.eventManager = eventManager;\n        this.loginService = loginService;\n        this.stateStorageService = stateStorageService;\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.router = router;\n        this.activeModal = activeModal;\n        this.credentials = {};\n    }\n    ngOnInit() { }\n    ngAfterViewInit() {\n        this.renderer.invokeElementMethod(this.elementRef.nativeElement.querySelector('#username'), 'focus', []);\n    }\n    cancel() {\n        this.credentials = {\n            username: null,\n            password: null,\n            rememberMe: true\n        };\n        this.authenticationError = false;\n        this.activeModal.dismiss('cancel');\n    }\n    login() {\n        this.loginService\n            .login({\n            username: this.username,\n            password: this.password,\n            rememberMe: this.rememberMe\n        })\n            .then(() => {\n            this.authenticationError = false;\n            this.activeModal.dismiss('login success');\n            if (this.router.url === '/register' ||\n                /activate/.test(this.router.url) ||\n                this.router.url === '/finishReset' ||\n                this.router.url === '/requestReset') {\n                this.router.navigate(['']);\n            }\n            this.eventManager.broadcast({\n                name: 'authenticationSuccess',\n                content: 'Sending Authentication Success'\n            });\n            // // previousState was set in the authExpiredInterceptor before being redirected to login modal.\n            // // since login is succesful, go to stored previousState and clear previousState\n            const redirect = this.stateStorageService.getUrl();\n            if (redirect) {\n                this.router.navigate([redirect]);\n            }\n        })\n            .catch(() => {\n            this.authenticationError = true;\n        });\n    }\n    register() {\n        this.activeModal.dismiss('to state register');\n        this.router.navigate(['/register']);\n    }\n    requestResetPassword() {\n        this.activeModal.dismiss('to state requestReset');\n        this.router.navigate(['/reset', 'request']);\n    }\n};\nJhiLoginModalComponent = tslib_1.__decorate([\n    core_1.Component({\n        selector: 'jhi-login-modal',\n        templateUrl: './login.component.html'\n    }),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof ng_jhipster_1.JhiEventManager !== \"undefined\" && ng_jhipster_1.JhiEventManager) === \"function\" ? _a : Object, typeof (_b = typeof core_2.LoginService !== \"undefined\" && core_2.LoginService) === \"function\" ? _b : Object, typeof (_c = typeof state_storage_service_1.StateStorageService !== \"undefined\" && state_storage_service_1.StateStorageService) === \"function\" ? _c : Object, typeof (_d = typeof core_1.ElementRef !== \"undefined\" && core_1.ElementRef) === \"function\" ? _d : Object, typeof (_e = typeof core_1.Renderer !== \"undefined\" && core_1.Renderer) === \"function\" ? _e : Object, typeof (_f = typeof router_1.Router !== \"undefined\" && router_1.Router) === \"function\" ? _f : Object, typeof (_g = typeof ng_bootstrap_1.NgbActiveModal !== \"undefined\" && ng_bootstrap_1.NgbActiveModal) === \"function\" ? _g : Object])\n], JhiLoginModalComponent);\nexports.JhiLoginModalComponent = JhiLoginModalComponent;\n",{"version":3,"file":"/Volumes/TamKieu/java/tk-registry/src/main/webapp/app/core/login/login.component.ts","sourceRoot":"","sources":["/Volumes/TamKieu/java/tk-registry/node_modules/angular-router-loader/src/index.js!/Volumes/TamKieu/java/tk-registry/node_modules/tslint-loader/index.js!/Volumes/TamKieu/java/tk-registry/src/main/webapp/app/core/login/login.component.ts"],"names":[],"mappings":";;;;AAAA,wCAAuF;AACvF,6DAA4D;AAC5D,4CAAyC;AACzC,6CAA8C;AAE9C,mCAAwC;AACxC,+EAA0E;AAM1E,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;IAO/B,YACY,YAA6B,EAC7B,YAA0B,EAC1B,mBAAwC,EACxC,UAAsB,EACtB,QAAkB,EAClB,MAAc,EACf,WAA2B;QAN1B,iBAAY,GAAZ,YAAY,CAAiB;QAC7B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,eAAU,GAAV,UAAU,CAAY;QACtB,aAAQ,GAAR,QAAQ,CAAU;QAClB,WAAM,GAAN,MAAM,CAAQ;QACf,gBAAW,GAAX,WAAW,CAAgB;QAElC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED,QAAQ,KAAI,CAAC;IAEb,eAAe;QACX,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;IAC7G,CAAC;IAED,MAAM;QACF,IAAI,CAAC,WAAW,GAAG;YACf,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,UAAU,EAAE,IAAI;SACnB,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACvC,CAAC;IAED,KAAK;QACD,IAAI,CAAC,YAAY;aACZ,KAAK,CAAC;YACH,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,UAAU,EAAE,IAAI,CAAC,UAAU;SAC9B,CAAC;aACD,IAAI,CAAC,GAAG,EAAE;YACP,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YACjC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;YAC1C,IACI,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,WAAW;gBAC/B,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,cAAc;gBAClC,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,eAAe,EACrC;gBACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAC9B;YAED,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;gBACxB,IAAI,EAAE,uBAAuB;gBAC7B,OAAO,EAAE,gCAAgC;aAC5C,CAAC,CAAC;YAEH,iGAAiG;YACjG,kFAAkF;YAClF,MAAM,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,CAAC;YACnD,IAAI,QAAQ,EAAE;gBACV,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;aACpC;QACL,CAAC,CAAC;aACD,KAAK,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QACpC,CAAC,CAAC,CAAC;IACX,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,oBAAoB;QAChB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC;IAChD,CAAC;CACJ,CAAA;AAhFY,sBAAsB;IAJlC,gBAAS,CAAC;QACP,QAAQ,EAAE,iBAAiB;QAC3B,WAAW,EAAE,wBAAwB;KACxC,CAAC;iEAS4B,6BAAe,oBAAf,6BAAe,oDACf,mBAAY,oBAAZ,mBAAY,oDACL,2CAAmB,oBAAnB,2CAAmB,oDAC5B,iBAAU,oBAAV,iBAAU,oDACZ,eAAQ,oBAAR,eAAQ,oDACV,eAAM,oBAAN,eAAM,oDACF,6BAAc,oBAAd,6BAAc;GAd7B,sBAAsB,CAgFlC;AAhFY,wDAAsB","sourcesContent":["import { Component, OnInit, AfterViewInit, Renderer, ElementRef } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Router } from '@angular/router';\nimport { JhiEventManager } from 'ng-jhipster';\n\nimport { LoginService } from 'app/core';\nimport { StateStorageService } from 'app/core/auth/state-storage.service';\n\n@Component({\n    selector: 'jhi-login-modal',\n    templateUrl: './login.component.html'\n})\nexport class JhiLoginModalComponent implements OnInit, AfterViewInit {\n    authenticationError: boolean;\n    password: string;\n    rememberMe: boolean;\n    username: string;\n    credentials: any;\n\n    constructor(\n        private eventManager: JhiEventManager,\n        private loginService: LoginService,\n        private stateStorageService: StateStorageService,\n        private elementRef: ElementRef,\n        private renderer: Renderer,\n        private router: Router,\n        public activeModal: NgbActiveModal\n    ) {\n        this.credentials = {};\n    }\n\n    ngOnInit() {}\n\n    ngAfterViewInit() {\n        this.renderer.invokeElementMethod(this.elementRef.nativeElement.querySelector('#username'), 'focus', []);\n    }\n\n    cancel() {\n        this.credentials = {\n            username: null,\n            password: null,\n            rememberMe: true\n        };\n        this.authenticationError = false;\n        this.activeModal.dismiss('cancel');\n    }\n\n    login() {\n        this.loginService\n            .login({\n                username: this.username,\n                password: this.password,\n                rememberMe: this.rememberMe\n            })\n            .then(() => {\n                this.authenticationError = false;\n                this.activeModal.dismiss('login success');\n                if (\n                    this.router.url === '/register' ||\n                    /activate/.test(this.router.url) ||\n                    this.router.url === '/finishReset' ||\n                    this.router.url === '/requestReset'\n                ) {\n                    this.router.navigate(['']);\n                }\n\n                this.eventManager.broadcast({\n                    name: 'authenticationSuccess',\n                    content: 'Sending Authentication Success'\n                });\n\n                // // previousState was set in the authExpiredInterceptor before being redirected to login modal.\n                // // since login is succesful, go to stored previousState and clear previousState\n                const redirect = this.stateStorageService.getUrl();\n                if (redirect) {\n                    this.router.navigate([redirect]);\n                }\n            })\n            .catch(() => {\n                this.authenticationError = true;\n            });\n    }\n\n    register() {\n        this.activeModal.dismiss('to state register');\n        this.router.navigate(['/register']);\n    }\n\n    requestResetPassword() {\n        this.activeModal.dismiss('to state requestReset');\n        this.router.navigate(['/reset', 'request']);\n    }\n}\n"]}]}